digraph Roboliq {
	//Parser [ shape="box" ];
	//Evaluator [ shape="box" ];
	//JSON -> Parser -> Rjs -> Evaluator;

	subgraph cluster_0 {
		label = "Input";
		GenericProtocol;
		Alternatives0 [ label="PlanningAlternatives", style="dashed,filled", fillcolor="#ffdddd" ];
		EvowareConfig0 [ label="EvowareConfig", style="dashed,filled", fillcolor="#ddddff" ];

		EvowareConfigProcessor [ shape="box" ];
		ProtocolProcessor [ shape="box" ];
		AssistedPlanner [ shape="box" ];

		ProtocolMerger [ shape="box" ];

		EvowareConfig0 -> EvowareConfigProcessor -> LabProtocolData -> ProtocolMerger;
		GenericProtocol -> ProtocolProcessor -> GenericProtocolData -> ProtocolMerger;
		Alternatives0 -> AssistedPlanner -> PlannedProtocolData1 -> ProtocolMerger;
	};

	CheckPoint1 [ label="", shape="diamond", width=0.2, height=0.2, fixedsize=true ];
	ExpandCommands [
		shape = none
		label = <<table border="0" cellspacing="0">
					<tr><td port="port1" border="1">Expand Tasks</td></tr>
					<tr><td port="port2" border="1">Expand Methods</td></tr>
				</table>>
	]
	Alternatives1 [ label="PlanningAlternatives", style="dashed,filled", fillcolor="#ffdddd" ];

	ProtocolMerger -> ProtocolData0;
	ProtocolData0 -> CheckPoint1 [ arrowhead="none" ];
	CheckPoint1 -> ExpandCommands [ arrowhead="none" ];
	ExpandCommands -> Alternatives1 [ label=" missing " ];
	{ rank=same CheckPoint1 ExpandCommands Alternatives1 };
	CheckPoint1 -> Split1;


	subgraph cluster_1 {
		label = "Action Planning";

		Split1 [ shape="point" ];
		LogicCompiler [ shape="box" ];
		PartialOrderPlanner [ shape="box" ];
		PlanChecker [ shape="box" ];
		PlanIntegrator [ shape="box" ];
		Alternatives2 [ label="PlanningAlternatives", style="dashed,filled", fillcolor="#ffdddd" ];

		Split1 -> LogicCompiler;
		LogicCompiler -> PDDL -> PartialOrderPlanner -> PartialOrderPlan;
		PartialOrderPlan -> CheckPoint2 [ arrowhead="none" ];

		CheckPoint2 -> PlanChecker [ arrowhead="none" ];
		PlanChecker -> Alternatives2 [ label=" missing " ];
		CheckPoint2 -> PlanIntegrator;
		Split1 -> PlanIntegrator;

		{ rank=same Split1 LogicCompiler };
		{ rank=same CheckPoint2 PlanChecker Alternatives2 };
	};

	ExpandActions [ shape="box" ];
	EvowareCompiler [ shape="box" ];

	CheckPoint2 [ label="", shape="diamond", width=0.2, height=0.2, fixedsize=true ];
	ProtocolData0 [ label="ProtocolData", style="dashed,filled", fillcolor="#ddffdd" ];
	ProtocolData1 [ label="ProtocolData", style="dashed,filled", fillcolor="#ddffdd" ];
	EvowareConfig1 [ label="EvowareConfig", style="dashed,filled", fillcolor="#ddddff" ];

	PlanIntegrator -> ProtocolData1 ->
	ExpandActions ->
		InstructionList -> EvowareCompiler -> EvowareScript;
	
	EvowareConfig1 -> EvowareCompiler;

	{ rank=same EvowareCompiler EvowareConfig1 };
}
