digraph Roboliq {
	Parser [ shape="box" ];
	Evaluator [ shape="box" ];

	EvowareConfigProcessor [ shape="box" ];
	ProtocolProcessor [ shape="box" ];
	AssistedPlanner [ shape="box" ];
	ProtocolMerger [ shape="box" ];
	ExpandCommands [
		shape = none
		label = <<table border="0" cellspacing="0">
					<tr><td port="port1" border="1">Expand Tasks</td></tr>
					<tr><td port="port2" border="1">Expand Methods</td></tr>
				</table>>
	]
	LogicCompiler [ shape="box" ];
	PartialOrderPlanner [ shape="box" ];
	PlanChecker [ shape="box" ];
	PlanIntegrator [ shape="box" ];
	ExpandActions [ shape="box" ];
	EvowareCompiler [ shape="box" ];

	Alternatives1 [ label="PlanningAlternatives", style="dashed" ];
	Alternatives2 [ label="PlanningAlternatives", style="dashed" ];
	Alternatives3 [ label="PlanningAlternatives", style="dashed" ];
	ProtocolData1 [ label="ProtocolData", style="dashed" ];
	ProtocolData2 [ label="ProtocolData", style="dashed" ];
	EvowareConfig2 [ label="EvowareConfig", style="dashed" ];

	JSON -> Parser -> Rjs -> Evaluator;

	EvowareConfig -> EvowareConfigProcessor -> LabProtocolData -> ProtocolMerger;
	GenericProtocol -> ProtocolProcessor -> GenericProtocolData -> ProtocolMerger;
	PlanningAlternatives -> AssistedPlanner -> PlannedProtocolData1 -> ProtocolMerger;

	ProtocolMerger -> ProtocolData -> ExpandCommands;
	ExpandCommands -> LogicCompiler [ style="dashed" ];
	LogicCompiler -> PDDL -> PartialOrderPlanner -> PartialOrderPlan -> PlanChecker;
	PlanChecker -> PlanIntegrator [ style="dashed" ];
	PlanIntegrator ->
	ExpandActions ->
		InstructionList -> EvowareCompiler -> EvowareScript;
	
	EvowareConfig2 -> EvowareCompiler;
	ExpandCommands -> Alternatives1 [ label=" missing " ];
	ProtocolData1 -> LogicCompiler;
	ProtocolData2 -> PlanIntegrator;
	PartialOrderPlanner -> Alternatives2 [ label=" missing " ];
	PlanChecker -> Alternatives3 [ label=" missing " ];

	{ rank=same ExpandCommands Alternatives1 };
	{ rank=same ProtocolData1 LogicCompiler };
	{ rank=same ProtocolData2 PlanIntegrator };
	{ rank=same PartialOrderPlanner Alternatives2 };
	{ rank=same PlanChecker Alternatives3 };
	{ rank=same EvowareCompiler EvowareConfig2 };
}
