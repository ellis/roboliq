"roboliq": "v1"
"objects":
  plateDWB:
    "type": "Plate"
    "model": "ourlab.model.plateModel_96_dwp"
    "location": "ourlab.luigi.site.P1"
  design1:
    type: Design
    conditions:
      "plate*":
        "plateDWB":
          "storageSite": "ourlab.luigi.site.P1"
          "roma*":
            "ourlab.luigi.roma1":
              "vector*":
                "Narrow":
                  "site*":
                  - "ourlab.luigi.site.P1"
                  - "ourlab.luigi.site.P2"
                  - "ourlab.luigi.site.P3"
                  - "ourlab.luigi.site.P4"
                  - "ourlab.luigi.site.P5"
                  - "ourlab.luigi.site.P6"
                  - "ourlab.luigi.site.LIGHT"
            "ourlab.luigi.roma2":
              "vector*":
                "Narrow":
                  "site*":
                  - "ourlab.luigi.site.P1"
                  - "ourlab.luigi.site.P2"
                  - "ourlab.luigi.site.P4"
                  - "ourlab.luigi.site.P5"
                  - "ourlab.luigi.site.P6"
                  - "ourlab.luigi.site.LIGHT"
steps:
  1:
    command: experiment.forEachGroup
    design: design1
    groupBy: ["plate", "roma", "vector"]
    steps:
      description: `Test {{$plate}} movements for {{$roma}} with vector {{$vector}}`
      1:
        command: experiment.forEachRow
        #data:
          #shuffle: true
        steps:
          command: transporter.movePlate
          equipment: $roma
          program: $vector
          object: $plate
          destination: $site
      2:
        command: transporter.movePlate
        equipment: $roma
        program: $vector
        object: $plate
        destination: $storageSite
